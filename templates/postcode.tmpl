<!doctype html>
<html lang="en">
<head>
    {{ template "head_imports" }}
</head>
<body>
<div class="page">
    <div class="page__content">
        <a class="skip__link" href="#main-content">Skip to main content</a>
        {{ template "header" }}
        <div class="page__container container " style="min-height: calc(67vh)">
            <div class="grid">
                <div class="grid__col col-8@m">
                    <main id="main-content" class="page__main ">
                        {{ if .error}}
                        <div aria-labelledby="error-summary-title" role="alert" tabindex="-1" autofocus="autofocus"
                             class="panel panel--error">
                            <div class="panel__header">
                                <h2 id="error-summary-title" data-qa="error-header" class="panel__title u-fs-r--b">
                                    There is a problem with this page
                                </h2>
                            </div>
                            <div class="panel__body">
                                <p class="">
                                    <a href="#postcode" class="list__link js-inpagelink">{{ .error }}</a>
                                </p>
                            </div>
                        </div>
                        {{ end }}

                        <h1 class="u-mt-l">Validate postcode</h1>
                        <form method="post" action="/auth/login/postcode">

                            {{ if .error}}
                            <div class="panel panel--error panel--no-title u-mb-s" id="number-of-employees-error">
                                <span class="u-vh">Error: </span>
                                <div class="panel__body">
                                    <p class="panel__error">
                                        <strong>{{ .error }}</strong>
                                    </p>
                                    {{ template "postcode_field" }}
                                </div>
                            </div>
                            {{else}}
                            {{ template "postcode_field" }}
                            {{ end }}


                            {{ define "postcode_field" }}
                            <div class="field">
                                <label class="label  " for="postcode">
                                    Postcode
                                </label>
                                <input type="text" id="postcode" class="input input--text input-type__input input--w-8"
                                       autocomplete="postal-code" autofocus/>
                            </div>
                            {{ end }}

                            <button type="submit" class="btn u-mb-xl">
                                <span class="btn__inner">Access survey</span>
                            </button>
                        </form>
                    </main>
                </div>
            </div>
        </div>
        {{ template "footer" }}
    </div>
</div>
</body>
</html>
